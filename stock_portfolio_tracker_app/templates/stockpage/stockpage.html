<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Portfolio.io</title>

    <!-- bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">

  </head>
  <body>

    <div class="container-fluid">
    	<div class="row">
    		<div class="col-md-12">


          <!-- Add stock form -->
    			<div class="modal fade" id="stockpage-addstockformmodal-1" role="dialog" aria-labelledby="stockpage-addstockformmodallabel-1" aria-hidden="true">
    				<div class="modal-dialog" role="document">
    					<div class="modal-content">
    						<div class="modal-header">
    							<h5 class="modal-title">
    								Add A Stock
    							</h5>

    							<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
    						</div>
    						<div class="modal-body">
                  <form role="form" id="stockpage-addstockform-1" method="post">
                    {% csrf_token %}
            				<div class="form-group">

            					<label for="stockpage-addstockticker-1">
            						Stock Ticker:
            					</label>

            					<input type="text" class="form-control" name="stockpage-addstockticker-2" id="stockpage-addstockticker-2">

            				</div>

            				<div class="form-group">

            					<label for="stockpage-adddatepurchased-1">
            						Date Purchased:
            					</label>

            					<input type="text" class="form-control" name="stockpage-adddatepurchased-2" id="stockpage-adddatepurchased-2" placeholder="MM/DD/YYYY">

            				</div>

                    <div class="form-group">

            					<label for="stockpage-addaverageprice-1">
            						Average Price:
            					</label>

            					<input type="text" class="form-control" name="stockpage-addaverageprice-2" id="stockpage-addaverageprice-2">

            				</div>

                    <div class="form-group">

            					<label for="stockpage-addquantity-1">
            						Quantity:
            					</label>

            					<input type="text" class="form-control" name="stockpage-addquantity-2" id="stockpage-addquantity-2">

            				</div>

                    <div class="form-group">

            					<label for="stockpage-addcurrency-1">
            						Currency:
            					</label>

                      <select class="form-select" name="stockpage-addcurrency-2" id="stockpage-addcurrency-2">
                        {% for currency in currencytable %}
                          {% if currency.currencycode == "AUD"%}
                            <option value="{{ currency.id }}" selected>{{ currency.currencycode }}</option>
                          {% else %}
                            <option value="{{ currency.id }}">{{ currency.currencycode }}</option>
                          {% endif %}

                        {% endfor %}
                      </select>

            				</div>

            				<button type="submit" class="btn btn-primary" name="stockpage-addstockbutton-1" value="addstockbutton">
            					Add
            				</button>

            			</form>
    						</div>
    					</div>
    				</div>
    			</div>


          <!-- Edit stock form -->
      		<div class="modal fade" id="stockpage-editstockformmodal-1" role="dialog" aria-labelledby="stockpage-editstockformmodallabel-1" aria-hidden="true">
      			<div class="modal-dialog" role="document">
      				<div class="modal-content">
      					<div class="modal-header">

      						<h5 class="modal-title">
      							Edit Stock Details
      						</h5>

      						<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>

      					</div>
      					<div class="modal-body">
                  <form role="form">
            				<div class="form-group">

            					<label for="stockpage-editstockticker-1">
            						Stock Ticker:
            					</label>

            					<input type="text" class="form-control" id="stockpage-editstockticker-2">

            				</div>
            				<div class="form-group">

            					<label for="stockpage-editdatepurchased-1">
            						Date Purchased:
            					</label>

            					<input type="text" class="form-control" id="stockpage-editdatepurchased-2" placeholder="MM/DD/YYYY">

            				</div>
                    <div class="form-group">

            					<label for="stockpage-editaverageprice-1">
            						Average Price:
            					</label>

            					<input type="text" class="form-control" id="stockpage-editaverageprice-2">

            				</div>
                    <div class="form-group">

            					<label for="stockpage-editquantity-1">
            						Quantity:
            					</label>

            					<input type="text" class="form-control" id="stockpage-editquantity-2">

            				</div>
                    <div class="form-group">

            					<label for="stockpage-editcurrency-1">
            						Currency:
            					</label>

                      <select class="form-select" id="stockpage-editcurrency-2">
                        <option value="AUD" selected>AUD</option>
                        <option value="USD">USD</option>
                      </select>

            				</div>

            				<button type="submit" class="btn btn-primary">
            					Save Changes
            				</button>

            			</form>
      					</div>
      				</div>
      			</div>
      		</div>


          <!-- Add profit adjustments form -->
          <div class="modal fade" id="stockpage-addprofitmodal-1" role="dialog" aria-labelledby="stockpage-addprofitmodallabel-1" aria-hidden="true">
    				<div class="modal-dialog" role="document">
    					<div class="modal-content">
    						<div class="modal-header">

    							<h5 class="modal-title">
    								Add Profit Adjustments
    							</h5>

    							<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>

    						</div>
    						<div class="modal-body">
                  <form role="form" id="stockpage-addprofitform-1">
            				<div class="form-group">

            					<label for="stockpage-addprofitfromsold-1">
            						Profit From Sold:
            					</label>

            					<input type="text" class="form-control" id="stockpage-addprofitfromsold-2">

            				</div>
            				<div class="form-group">

            					<label for="stockpage-addprofitfromdividends-1">
            						Profit From Dividends:
            					</label>

            					<input type="text" class="form-control" id="stockpage-addprofitfromdividends-2">

            				</div>

            				<button type="submit" class="btn btn-primary">
            					Save Changes
            				</button>

            			</form>
    						</div>
    					</div>
    				</div>
          </div>


          <!-- title -->
    			<div class="row">
    				<div class="col-md-11">

    					<h3>
    						Portfolio.io
    					</h3>

    				</div>

    				<div class="col-md-1">
              <form role="form" id="stockpage-logoutform-1" name="stockpage-logoutform-1" method="post">
                {% csrf_token %}
                <button type="submit" class="btn btn-md btn-primary" name="stockpage-logoutbutton-1" value="logout">
      						Logout
      					</button>
              </form>
    				</div>
    			</div>

          <hr>

          <!-- stock configuration buttons -->
          <div class="row">
    				<div class="col-md-6">

              <button type="button" class="btn btn-md btn-primary" id="stockpage-addstockbutton-1" data-bs-target="#stockpage-addstockformmodal-1" role="button" class="btn" data-bs-toggle="modal">Add A Stock</button>

    				</div>

    				<div class="col-md-6">

              <button type="button" class="btn btn-md btn-primary" id="stockpage-viewaudbutton-1">
    						View AUD Market Value
    					</button>

              <button type="button" class="btn btn-md btn-primary" id="stockpage-viewnativebutton-1">
    						View Local Market Value
    					</button>

    				</div>
    			</div>

          <!-- stock information table -->
          <div class="row">
    				<div class="col-md-12">
              <table class="table table-bordered table-hover" id="stockpage-stocktable-1">
        				<thead>
        					<tr>
        						<th>
        							Date Purchased
        						</th>
        						<th>
        							Code
        						</th>
        						<th>
        							Quantity
        						</th>
        						<th>
        							Average Price
        						</th>
                    <th>
        							Market Price
        						</th>
                    <th>
        							Invested Amount
        						</th>
                    <th>
        							Market Value
        						</th>
                    <th>
        							Profit ($)
        						</th>
                    <th>
        							Profit (%)
        						</th>
                    <th>
        							Edit
        						</th>
        					</tr>
        				</thead>
        				<tbody>
                  {% for stock in stocktable %}
                    <tr id="stockpage-stockid-{{stock.stockid}}">
                    </tr>
                    {% with arr="stockid currencyid" %}
                      {% for key, value in stock.items %}
                          {% if not key in arr.split %}
                            <td>
                              {{ value }}
                            </td>
                          {% endif %}
                      {% endfor %}
                    {% endwith %}

                    <td>
        							<a id="stockpage-stockid-{{stock.stockid}}" href="#stockpage-editstockformmodal-1" data-bs-toggle="modal">Edit</a>
                      <a id="stockpage-stockid-{{stock.stockid}}" href="">Delete</a>
        						</td>
                  {% endfor %}

        				</tbody>
        			</table>
    				</div>
    			</div>



          <!-- summary statistics configuration buttons -->
          <div class="row">
    				<div class="col-md-12">
              <button type="button" class="btn btn-md btn-primary" id="stockpage-addprofitsbutton-1" href="#stockpage-addprofitmodal-1" role="button" class="btn" data-bs-toggle="modal">
                Add Profit Adjustments
              </button>
            </div>
          </div>

          <!-- summary statistics table -->
    			<div class="row">
    				<div class="col-md-6">
    					<table class="table table-bordered table-hover" id="stockpage-profitstable-1">
    						<tbody>
    							<tr>
    								<th>
    									Total Invested Amount
    								</th>
                    <td>
    									{{ profit_table_1_dic_formatted.totalinvestedamount }}
    								</td>
    							</tr>
                  <tr>
    								<th>
    									Total Market Amount
    								</th>
                    <td>
    									{{ profit_table_1_dic_formatted.totalmarketamount }}
    								</td>
    							</tr>
                  <tr>
    								<th>
    									Gross Profit ($)
    								</th>
                    <td>
    									{{ profit_table_1_dic_formatted.grossprofit }}
    								</td>
    							</tr>
                  <tr>
    								<th>
    									Gross Profit (%)
    								</th>
                    <td>
    									{{ profit_table_1_dic_formatted.grossprofitpercentage }}
    								</td>
    							</tr>
    						</tbody>
    					</table>
    				</div>
    				<div class="col-md-6">
              <table class="table table-bordered table-hover" id="stockpage-profitstable-2">
    						<tbody>
    							<tr>
    								<th>
    									Profit From Sold
    								</th>
                    <td>
    									{{ profit_table_2_dic_formatted.profitfromsold }}
    								</td>
    							</tr>
                  <tr>
    								<th>
    									Profit From Dividend
    								</th>
                    <td>
    									{{ profit_table_2_dic_formatted.profitfromdividend }}
    								</td>
    							</tr>
                  <tr>
    								<th>
    									Net Profit ($)
    								</th>
                    <td>
    									{{ profit_table_2_dic_formatted.netprofit }}
    								</td>
    							</tr>
                  <tr>
    								<th>
    									Net Profit (%)
    								</th>
                    <td>
    									{{ profit_table_2_dic_formatted.netprofitpercentage }}
    								</td>
    							</tr>
    						</tbody>
    					</table>
    				</div>
    			</div>

    		</div>
    	</div>
    </div>

    <!-- javascript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js" integrity="sha384-q2kxQ16AaE6UbzuKqyBE9/u/KzioAlnx2maXQHiDX9d4/zp8Ok3f+M7DPm+Ib6IU" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.min.js" integrity="sha384-pQQkAEnwaBkjpqZ8RU1fF1AKtTcHJwFl3pblpTlHXybJjHpMYo79HY3hIi4NKxyj" crossorigin="anonymous"></script>

  </body>
</html>
